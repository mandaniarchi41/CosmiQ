(function(l,y){typeof exports=="object"&&typeof module<"u"?module.exports=y(require("react")):typeof define=="function"&&define.amd?define(["react"],y):(l=typeof globalThis<"u"?globalThis:l||self,l.ReactCompareImage=y(l.React))})(this,function(l){"use strict";var y={exports:{}},I={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var te;function ie(){if(te)return I;te=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function f(n,p,v){var S=null;if(v!==void 0&&(S=""+v),p.key!==void 0&&(S=""+p.key),"key"in p){v={};for(var k in p)k!=="key"&&(v[k]=p[k])}else v=p;return p=v.ref,{$$typeof:a,type:n,key:S,ref:p!==void 0?p:null,props:v}}return I.Fragment=i,I.jsx=f,I.jsxs=f,I}var N={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var re;function se(){return re||(re=1,process.env.NODE_ENV!=="production"&&function(){function a(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===b?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case Z:return"Profiler";case P:return"StrictMode";case K:return"Suspense";case J:return"SuspenseList";case q:return"Activity"}if(typeof e=="object")switch(typeof e.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),e.$$typeof){case U:return"Portal";case c:return(e.displayName||"Context")+".Provider";case Q:return(e._context.displayName||"Context")+".Consumer";case g:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return t=e.displayName||null,t!==null?t:a(e.type)||"Memo";case h:t=e._payload,e=e._init;try{return a(e(t))}catch{}}return null}function i(e){return""+e}function f(e){try{i(e);var t=!1}catch{t=!0}if(t){t=console;var r=t.error,o=typeof Symbol=="function"&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object";return r.call(t,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",o),i(e)}}function n(e){if(e===_)return"<>";if(typeof e=="object"&&e!==null&&e.$$typeof===h)return"<...>";try{var t=a(e);return t?"<"+t+">":"<...>"}catch{return"<...>"}}function p(){var e=F.A;return e===null?null:e.getOwner()}function v(){return Error("react-stack-top-frame")}function S(e){if(w.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return e.key!==void 0}function k(e,t){function r(){R||(R=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",t))}r.isReactWarning=!0,Object.defineProperty(e,"key",{get:r,configurable:!0})}function $(){var e=a(this.type);return W[e]||(W[e]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),e=this.props.ref,e!==void 0?e:null}function B(e,t,r,o,E,x,A,M){return r=x.ref,e={$$typeof:D,type:e,key:t,props:x,_owner:E},(r!==void 0?r:null)!==null?Object.defineProperty(e,"ref",{enumerable:!1,get:$}):Object.defineProperty(e,"ref",{enumerable:!1,value:null}),e._store={},Object.defineProperty(e._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(e,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(e,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:A}),Object.defineProperty(e,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:M}),Object.freeze&&(Object.freeze(e.props),Object.freeze(e)),e}function Y(e,t,r,o,E,x,A,M){var s=t.children;if(s!==void 0)if(o)if(O(s)){for(o=0;o<s.length;o++)z(s[o]);Object.freeze&&Object.freeze(s)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else z(s);if(w.call(t,"key")){s=a(e);var j=Object.keys(t).filter(function(G){return G!=="key"});o=0<j.length?"{key: someKey, "+j.join(": ..., ")+": ...}":"{key: someKey}",m[s+o]||(j=0<j.length?"{"+j.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,o,s,j,s),m[s+o]=!0)}if(s=null,r!==void 0&&(f(r),s=""+r),S(t)&&(f(t.key),s=""+t.key),"key"in t){r={};for(var X in t)X!=="key"&&(r[X]=t[X])}else r=t;return s&&k(r,typeof e=="function"?e.displayName||e.name||"Unknown":e),B(e,s,x,E,p(),r,A,M)}function z(e){typeof e=="object"&&e!==null&&e.$$typeof===D&&e._store&&(e._store.validated=1)}var C=l,D=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),c=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),b=Symbol.for("react.client.reference"),F=C.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,w=Object.prototype.hasOwnProperty,O=Array.isArray,T=console.createTask?console.createTask:function(){return null};C={"react-stack-bottom-frame":function(e){return e()}};var R,W={},L=C["react-stack-bottom-frame"].bind(C,v)(),u=T(n(v)),m={};N.Fragment=_,N.jsx=function(e,t,r,o,E){var x=1e4>F.recentlyCreatedOwnerStacks++;return Y(e,t,r,!1,o,E,x?Error("react-stack-top-frame"):L,x?T(n(e)):u)},N.jsxs=function(e,t,r,o,E){var x=1e4>F.recentlyCreatedOwnerStacks++;return Y(e,t,r,!0,o,E,x?Error("react-stack-top-frame"):L,x?T(n(e)):u)}}()),N}var ne;function le(){return ne||(ne=1,process.env.NODE_ENV==="production"?y.exports=ie():y.exports=se()),y.exports}var d=le(),ce=process.env.NODE_ENV==="production",H="Invariant failed";function oe(a,i){if(!a){if(ce)throw new Error(H);var f=typeof i=="function"?i():i,n=f?"".concat(H,": ").concat(f):H;throw new Error(n)}}function ue(a){const i=l.useRef(null);return l.useLayoutEffect(()=>{if(!i.current)return;const f=new ResizeObserver(n=>{oe(n[0],"ResizeObserver should have at least one entry"),a(n[0].contentRect.width)});return f.observe(i.current),a(i.current.getBoundingClientRect().width),()=>{f.disconnect()}},[a]),i}function de(a,i,f,n){const p=n==="taller"?Math.max(i,f):Math.min(i,f);return a*p}function ae(a){return a.naturalHeight/a.naturalWidth}return a=>{const{aspectRatio:i="taller",handle:f=null,handleSize:n=40,hover:p=!1,leftImage:v,leftImageAlt:S="",leftImageCss:k={},leftImageLabel:$=null,onSliderPositionChange:B,rightImage:Y,rightImageAlt:z="",rightImageCss:C={},rightImageLabel:D=null,skeleton:U=null,sliderLineColor:_="#ffffff",sliderLineWidth:P=2,sliderPositionPercentage:Z=.5,vertical:Q=!1}=a,c=!Q,[g,K]=l.useState(Z),[J,V]=l.useState(!1),[h,q]=l.useState(0),[b,F]=l.useState(0),w=ue(m=>q(m)),O=l.useRef(null),T=l.useRef(null),[R,W]=l.useState(!1),L=l.useCallback(()=>{T.current?.complete&&O.current?.complete&&W(!0)},[]);l.useEffect(()=>(L(),()=>{W(!1)}),[v,Y,L]),l.useEffect(()=>{if(!(T.current&&O.current)||h===0||!R)return;const m=de(h,ae(T.current),ae(O.current),i);F(m)},[h,R,i]),l.useEffect(()=>{if(!w.current||!R)return;const m=o=>{if(!w.current)return;const E=w.current.getBoundingClientRect();let x,A;if(o instanceof TouchEvent){const ee=o.touches[0];oe(ee),x=ee.clientX,A=ee.clientY}else x=o.clientX,A=o.clientY;const M=c?x-E.left:A-E.top,s=P/2,j=c?h-s:b-s,G=Math.min(Math.max(M,s),j)/(c?h:b);K(G),B?.(G)},e=o=>{V(!0),"touches"in o||o.preventDefault(),m(o),window.addEventListener("mousemove",m),window.addEventListener("touchmove",m)},t=()=>{V(!1),window.removeEventListener("mousemove",m),window.removeEventListener("touchmove",m)},r=w.current;return r.addEventListener("touchstart",e),window.addEventListener("touchend",t),p?(r.addEventListener("mousemove",m),r.addEventListener("mouseleave",t)):(r.addEventListener("mousedown",e),window.addEventListener("mouseup",t)),()=>{r.removeEventListener("touchstart",e),window.removeEventListener("touchend",t),r.removeEventListener("mousemove",m),r.removeEventListener("mouseleave",t),r.removeEventListener("mousedown",e),window.removeEventListener("mouseup",t),window.removeEventListener("mousemove",m),window.removeEventListener("touchmove",m)}},[R,i,b,h,c,p,P,w]);const u={container:{boxSizing:"border-box",position:"relative",width:"100%",height:`${b}px`,overflow:"hidden"},rightImage:{clipPath:c?`inset(0px 0px 0px ${h*g}px)`:`inset(${b*g}px 0px 0px 0px)`,display:"block",height:"100%",objectFit:"cover",position:"absolute",width:"100%",...C},leftImage:{clipPath:c?`inset(0px ${h*(1-g)}px 0px 0px)`:`inset(0px 0px ${b*(1-g)}px 0px)`,display:"block",height:"100%",objectFit:"cover",position:"absolute",width:"100%",...k},slider:{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",...c?{cursor:"ew-resize",flexDirection:"column",height:"100%",left:`${h*g-n/2}px`,top:0,width:`${n}px`}:{cursor:"ns-resize",flexDirection:"row",height:`${n}px`,left:0,top:`${b*g-n/2}px`,width:"100%"}},line:{background:_,boxShadow:"0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)",flex:"0 1 auto",height:c?"100%":`${P}px`,width:c?`${P}px`:"100%"},handleCustom:{alignItems:"center",boxSizing:"border-box",display:"flex",flex:"1 0 auto",height:"auto",justifyContent:"center",width:"auto"},handleDefault:{alignItems:"center",border:`${P}px solid ${_}`,borderRadius:"100%",boxShadow:"0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)",boxSizing:"border-box",display:"flex",flex:"1 0 auto",height:`${n}px`,justifyContent:"center",width:`${n}px`,transform:c?"none":"rotate(90deg)"},leftArrow:{border:`inset ${n*.15}px rgba(0,0,0,0)`,borderRight:`${n*.15}px solid ${_}`,height:"0px",marginLeft:`-${n*.25}px`,marginRight:`${n*.25}px`,width:"0px"},rightArrow:{border:`inset ${n*.15}px rgba(0,0,0,0)`,borderLeft:`${n*.15}px solid ${_}`,height:"0px",marginRight:`-${n*.25}px`,width:"0px"},leftLabel:{background:"rgba(0, 0, 0, 0.5)",color:"white",left:c?"5%":"50%",opacity:J?0:1,padding:"10px 20px",position:"absolute",top:c?"50%":"3%",transform:c?"translate(0,-50%)":"translate(-50%, 0)",transition:"opacity 0.1s ease-out"},rightLabel:{background:"rgba(0, 0, 0, 0.5)",color:"white",opacity:J?0:1,padding:"10px 20px",position:"absolute",...c?{right:"5%",top:"50%",transform:"translate(0,-50%)"}:{left:"50%",bottom:"3%",transform:"translate(-50%, 0)"},transition:"opacity 0.1s ease-out"},leftLabelContainer:{clipPath:c?`inset(0px ${h*(1-g)}px 0px 0px)`:`inset(0px 0px ${b*(1-g)}px 0px)`,height:"100%",position:"absolute",width:"100%"},rightLabelContainer:{clipPath:c?`inset(0px 0px 0px ${h*g}px)`:`inset(${b*g}px 0px 0px 0px)`,height:"100%",position:"absolute",width:"100%"}};return d.jsxs(d.Fragment,{children:[U&&!R&&d.jsx("div",{style:{...u.container},children:U}),d.jsxs("div",{style:{...u.container,display:R?"block":"none"},ref:w,"data-testid":"container",children:[d.jsx("img",{onLoad:()=>L(),alt:z,"data-testid":"right-image",ref:O,src:Y,style:u.rightImage}),d.jsx("img",{onLoad:()=>L(),alt:S,"data-testid":"left-image",ref:T,src:v,style:u.leftImage}),d.jsxs("div",{style:u.slider,children:[d.jsx("div",{style:u.line}),f?d.jsx("div",{style:u.handleCustom,children:f}):d.jsxs("div",{style:u.handleDefault,children:[d.jsx("div",{style:u.leftArrow}),d.jsx("div",{style:u.rightArrow})]}),d.jsx("div",{style:u.line})]}),$&&d.jsx("div",{style:u.leftLabelContainer,children:d.jsx("div",{style:u.leftLabel,children:$})}),D&&d.jsx("div",{style:u.rightLabelContainer,children:d.jsx("div",{style:u.rightLabel,children:D})})]})]})}});
